
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.7">
    
    
      
        <title>Manage sqs configuration - Matillion Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4a0965b7.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Matillion Docs" class="md-header__button md-logo" aria-label="Matillion Docs" data-md-component="logo">
      
  <img src="../assets/white-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Matillion Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Manage sqs configuration
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../data-loader/" class="md-tabs__link">
        Matillion Data Loader
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../etl/" class="md-tabs__link">
        Matillion ETL
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Matillion Docs" class="md-nav__button md-logo" aria-label="Matillion Docs" data-md-component="logo">
      
  <img src="../assets/white-logo.svg" alt="logo">

    </a>
    Matillion Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Matillion Data Loader
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Matillion Data Loader" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Matillion Data Loader
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data-loader/" class="md-nav__link">
        What is Matillion Data Loader?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data-loader/getting-support/" class="md-nav__link">
        Getting support
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          Batch sources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Batch sources" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Batch sources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data-loader/mongodb/" class="md-nav__link">
        MongoDB
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Matillion ETL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Matillion ETL" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Matillion ETL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../etl/" class="md-nav__link">
        What is Matillion ETL?
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          Project Menu
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Project Menu" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Project Menu
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../etl/switch-project/" class="md-nav__link">
        Switch Project
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up" class="md-nav__link">
    Setting up
  </a>
  
    <nav class="md-nav" aria-label="Setting up">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note" class="md-nav__link">
    Note
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#returned-messages" class="md-nav__link">
    Returned messages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#send-messages-using-python" class="md-nav__link">
    Send messages using Python
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#send-messages-using-the-sqs-message-component" class="md-nav__link">
    Send messages using the SQS Message component
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-format" class="md-nav__link">
    Message format
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


  <h1>Manage sqs configuration</h1>

<h2 id="overview">Overview</h2>
<p>When using Matillion ETL as part of a larger process, the best way to initiate an orchestration job is to use <a href="https://aws.amazon.com/sqs/">Amazon Simple Queue Service</a>{:target="_blank"} (SQS). Other applications can read messages posted to an SQS queue and perform further processing.</p>
<p>You can put messages onto an SQS queue using <a href="#send-messages-using-python">Python</a> or the <a href="#send-messages-using-the-sqs-message-component">SQS Message component</a>.</p>
<hr />
<h2 id="setting-up">Setting up</h2>
<ol>
<li>
<p>To configure SQS for Matillion ETL, first create up to three SQS queues as described in <a href="http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-getting-started.html#step-create-queue"><em>Getting started with Amazon SQS</em></a>{:target="_blank"}.</p>
</li>
<li>
<p>In Matillion ETL, click <strong>Project</strong> → <strong>Manage SQS Configuration</strong>.</p>
</li>
<li>
<p>Complete the following fields in the <strong>Manage SQS Configuration</strong> dialog.</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Enable SQS</td>
<td>This turns on or off the sub-system that listens to SQS queues. Note: this is global, not for a particular project.</td>
</tr>
<tr>
<td>Credentials</td>
<td>Choose the credentials that you will be using to talk to SQS queues. An IAM user or Role will need the AmazonSQSFullAccess policy if you want to have a success or failure queue.</td>
</tr>
<tr>
<td>Region</td>
<td>The region where the queue exists in SQS.</td>
</tr>
<tr>
<td>Listen Queue</td>
<td>The name of the queue to listen for messages. These messages are in a set format as shown <a href="#message-format">below</a>.</td>
</tr>
<tr>
<td>Enable Success</td>
<td>Select this if you wish to place a message on an SQS queue when your orchestration job has completed.</td>
</tr>
<tr>
<td>Success Queue</td>
<td>The name of the success queue on which to place success messages.</td>
</tr>
<tr>
<td>Compress</td>
<td>When selected, the body of the message on the queue will be gzipped. Use this to avoid hitting <a href="http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSGettingStartedGuide/CreatingQueue.html">SQS limits</a>{:target="_blank"}.</td>
</tr>
<tr>
<td>Enable Failure</td>
<td> Select this if you wish to place a message on an SQS queue when your orchestration job has failed.</td>
</tr>
<tr>
<td>Failure Queue</td>
<td>The name of the failure queue on which to place failure messages.</td>
</tr>
<tr>
<td>Compress</td>
<td>When selected, the body of the message on the queue will be gzipped. Use this to avoid hitting <a href="http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSGettingStartedGuide/CreatingQueue.html">SQS limits</a>{:target="_blank"}.</td>
</tr>
</tbody>
</table>
<blockquote>
<h4 id="note">Note</h4>
<p>The queues for success and failure can't be FIFO queues, as there is no property set for the message ID and message de-duplication ID.</p>
</blockquote>
<ol>
<li>Click <strong>Test</strong> to verify that the queues exist and can be read.</li>
</ol>
<hr />
<h2 id="returned-messages">Returned messages</h2>
<p>The messages that are returned on the success or fail queues are in the following format:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"> </span><span class="err"> </span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;QUEUE_ORCHESTRATION&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;groupName&quot;</span><span class="p">:</span><span class="s2">&quot;&lt;the group name that was executed&gt;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;projectName&quot;</span><span class="p">:</span><span class="s2">&quot;&lt;the project name that was executed&gt;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;versionName&quot;</span><span class="p">:</span><span class="s2">&quot;&lt;the version name that was executed&gt;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;environmentName&quot;</span><span class="p">:</span><span class="s2">&quot;&lt;the version name that was executed&gt;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="s2">&quot;SUCCESS|FAILED&quot;</span><span class="p">,</span><span class="err"> </span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;enqueuedTime&quot;</span><span class="p">:</span><span class="err">&lt;Time</span><span class="w"> </span><span class="err">message</span><span class="w"> </span><span class="err">placed</span><span class="w"> </span><span class="err">o</span><span class="kc">n</span><span class="w"> </span><span class="err">queue</span><span class="w"> </span><span class="err">i</span><span class="kc">n</span><span class="w"> </span><span class="err">u</span><span class="kc">n</span><span class="err">ix</span><span class="w"> </span><span class="err">epoc</span><span class="w"> </span><span class="kc">f</span><span class="err">orma</span><span class="kc">t</span><span class="err">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;startTime&quot;</span><span class="p">:</span><span class="err">&lt;Time</span><span class="w"> </span><span class="err">orches</span><span class="kc">trat</span><span class="err">io</span><span class="kc">n</span><span class="w"> </span><span class="err">job</span><span class="w"> </span><span class="err">bega</span><span class="kc">n</span><span class="w"> </span><span class="err">i</span><span class="kc">n</span><span class="w"> </span><span class="err">u</span><span class="kc">n</span><span class="err">ix</span><span class="w"> </span><span class="err">epoc</span><span class="w"> </span><span class="kc">f</span><span class="err">orma</span><span class="kc">t</span><span class="err">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;endTime&quot;</span><span class="p">:</span><span class="err">&lt;Time</span><span class="w"> </span><span class="err">orches</span><span class="kc">trat</span><span class="err">io</span><span class="kc">n</span><span class="w"> </span><span class="err">job</span><span class="w"> </span><span class="err">e</span><span class="kc">n</span><span class="err">ded</span><span class="w"> </span><span class="err">i</span><span class="kc">n</span><span class="w"> </span><span class="err">u</span><span class="kc">n</span><span class="err">ix</span><span class="w"> </span><span class="err">epoc</span><span class="w"> </span><span class="kc">f</span><span class="err">orma</span><span class="kc">t</span><span class="err">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="err">&lt;co</span><span class="kc">nta</span><span class="err">i</span><span class="kc">ns</span><span class="w"> </span><span class="err">error</span><span class="w"> </span><span class="err">messages</span><span class="w"> </span><span class="err">where</span><span class="w"> </span><span class="err">applicable&gt;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;originator ID&quot;</span><span class="p">:</span><span class="s2">&quot;q_Queue&quot;</span><span class="p">,</span><span class="w"></span>

<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;tasks&quot;</span><span class="p">:[</span><span class="w"> </span><span class="err"> &lt;This</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">lis</span><span class="kc">t</span><span class="w"> </span><span class="err">o</span><span class="kc">f</span><span class="w"> </span><span class="kc">tas</span><span class="err">ks</span><span class="w"> </span><span class="err">execu</span><span class="kc">te</span><span class="err">d</span><span class="w"> </span><span class="err">i</span><span class="kc">n</span><span class="w"> </span><span class="kc">t</span><span class="err">he</span><span class="w"> </span><span class="err">orches</span><span class="kc">trat</span><span class="err">io</span><span class="kc">n</span><span class="err">&gt;</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="p">{</span><span class="w"> </span><span class="err"> </span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;VALIDATE_ORCHESTRATION&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;jobName&quot;</span><span class="p">:</span><span class="s2">&quot;SimpleQueueJob&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;componentName&quot;</span><span class="p">:</span><span class="s2">&quot;Start 0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;orchestrationJobName&quot;</span><span class="p">:</span><span class="s2">&quot;SimpleQueueJob&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;orchestrationComponentName&quot;</span><span class="p">:</span><span class="s2">&quot;Start 0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="s2">&quot;SUCCESS&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;rowCount&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;startTime&quot;</span><span class="p">:</span><span class="mi">1443526622364</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;endTime&quot;</span><span class="p">:</span><span class="mi">1443526622364</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="p">},</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="p">{</span><span class="w"> </span><span class="err"> </span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;VALIDATE_ORCHESTRATION&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;jobName&quot;</span><span class="p">:</span><span class="s2">&quot;SimpleQueueJob&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;componentName&quot;</span><span class="p">:</span><span class="s2">&quot;End Success 0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;orchestrationJobName&quot;</span><span class="p">:</span><span class="s2">&quot;SimpleQueueJob&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;orchestrationComponentName&quot;</span><span class="p">:</span><span class="s2">&quot;End Success 0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="s2">&quot;SUCCESS&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;rowCount&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;startTime&quot;</span><span class="p">:</span><span class="mi">1443526622365</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;endTime&quot;</span><span class="p">:</span><span class="mi">1443526622369</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="p">},</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="p">{</span><span class="w"> </span><span class="err"> </span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;EXECUTE_ORCHESTRATION&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;jobName&quot;</span><span class="p">:</span><span class="s2">&quot;SimpleQueueJob&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;componentName&quot;</span><span class="p">:</span><span class="s2">&quot;End Success 0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;orchestrationJobName&quot;</span><span class="p">:</span><span class="s2">&quot;SimpleQueueJob&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;orchestrationComponentName&quot;</span><span class="p">:</span><span class="s2">&quot;End Success 0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="s2">&quot;SUCCESS&quot;</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;rowCount&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;startTime&quot;</span><span class="p">:</span><span class="mi">1443526622369</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;endTime&quot;</span><span class="p">:</span><span class="mi">1443526622369</span><span class="p">,</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="p">}</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="p">],</span><span class="w"></span>
<span class="err"> </span><span class="w"> </span><span class="err"> </span><span class="nt">&quot;rowCount&quot;</span><span class="p">:</span><span class="mi">0</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<hr />
<h2 id="send-messages-using-python">Send messages using Python</h2>
<p>To put messages onto an SQS queue, you can adapt this Python snippet, or use any other AWS API at your disposal to achieve the same result.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">boto.sqs</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">boto.sqs.message</span> <span class="kn">import</span> <span class="n">RawMessage</span>

<span class="c1">#connect to your region</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">boto</span><span class="o">.</span><span class="n">sqs</span><span class="o">.</span><span class="n">connect_to_region</span><span class="p">(</span><span class="s2">&quot;eu-west-1&quot;</span><span class="p">)</span>

<span class="c1">#create the queue to post messages</span>
<span class="n">queue</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">create_queue</span><span class="p">(</span><span class="s2">&quot;QUEUE-NAME&quot;</span><span class="p">)</span>

<span class="c1">#set the queue to allow raw messages data</span>
<span class="n">queue</span><span class="o">.</span><span class="n">set_message_class</span><span class="p">(</span><span class="n">RawMessage</span><span class="p">)</span>

<span class="c1">#prepare the message</span>
<span class="n">p_message</span> <span class="o">=</span> <span class="p">{</span>
 <span class="s2">&quot;created&quot;</span><span class="p">:</span><span class="s2">&quot;-&quot;</span><span class="p">,</span>
 <span class="s2">&quot;group&quot;</span><span class="p">:</span><span class="s2">&quot;myGroup&quot;</span><span class="p">,</span>
 <span class="s2">&quot;project&quot;</span><span class="p">:</span><span class="s2">&quot;myproject&quot;</span><span class="p">,</span>
 <span class="s2">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
 <span class="s2">&quot;environment&quot;</span><span class="p">:</span><span class="s2">&quot;myEnv&quot;</span><span class="p">,</span>
 <span class="s2">&quot;job&quot;</span><span class="p">:</span><span class="s2">&quot;myjob&quot;</span>
<span class="p">}</span>

<span class="c1">#prepare the message on the queue</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">new_message</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">p_message</span><span class="p">))</span>

<span class="c1">#write the message to the queue</span>
<span class="n">queue</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="send-messages-using-the-sqs-message-component">Send messages using the SQS Message component</h2>
<p>You can use the <a href="/docs/2140977">SQS Message</a>{:target="_blank"} component in an orchestration job to post a message to an SQS queue. You specify the message properties (such as <strong>Queue Name</strong> and <strong>Region</strong>) when you configure the component as part of a job. The message to be passed to the queue is written in plain text in the component's <strong>Message</strong> property. The message text can contain <a href="/docs/2037630">variables</a>{:target="_blank"} to be resolved at runtime, in the same way that other Matillion ETL components can use variables. The receiving queue must already exist so that you can select it when configuring the component.</p>
<p>The following example shows the SQS Message component configured to send a message with the text "This is a plain test message being sent to SQS":</p>
<p><img alt="Configure SQS Message component" src="https://matillion-docs.s3-eu-west-1.amazonaws.com/images/2144265/manage-sqs-config-02.png" /></p>
<hr />
<h2 id="message-format">Message format</h2>
<p>Messages are in a set format as follows.</p>
<div class="highlight"><pre><span></span><code>{
  &quot;group&quot;:&quot;&lt;Exactly matches the project group where your job resides&gt;&quot;,
  &quot;project&quot;:&quot;&lt;Exactly matches the project name where your job resides&gt;&quot;,
  &quot;version&quot;:&quot;&lt;Exactly matches the version Name&gt;&quot;,
  &quot;environment&quot;:&quot;&lt;Exactly matches the environment Name&gt;&quot;,
  &quot;job&quot;:&quot;&lt;Exactly matches the orchestration Job Name&gt;&quot;,
  &quot;variables&quot;:  {
               &quot;&lt;Name 1&gt;&quot;: &quot;&lt;Value 1&gt;&quot;,
               &quot;&lt;Name 2&gt;&quot;: &quot;&lt;Value 3&gt;&quot;
           }
  &quot;gridVariables&quot; : {
&quot;&lt;GridVar Name&gt;&quot;: [[&quot;&lt;R1C1 Value&gt;&quot;, &quot;&lt;R1C2 Value&gt;&quot;], [&quot;&lt;R2C1 Value&gt;&quot;, &quot;&lt;R2C2 Value&gt;&quot;]]
           }
}
</code></pre></div>
<p>The <code>variables</code> and <code>gridVariables</code> fields are optional. Variables are passed to the orchestration job. Matching variable names must be declared in the project with default values set for each environment. If a variable is passed which isn't defined in the project, an error is logged in <strong>Project</strong> → <strong>Task History</strong>. Read the articles on <a href="/docs/2037630"><em>Variables</em></a>{:target="_blank"} for more information.</p>

              
            </article>
            
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 - Matillion
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "navigation.expand", "navigation.instant", "navigation.prune", "navigation.tabs", "navigation.top", "navigation.tracking"], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.0238f547.min.js"></script>
      
        <script src="../javascripts/shortcuts.js"></script>
      
    
  </body>
</html>